<!DOCTYPE html><html><head><title>Cybozu Frontend Monthly #5</title><meta name="description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"/><meta name="og:description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"/><meta name="og:title" content="Cybozu Frontend Monthly #5"/><meta name="og:type" content="website"/><meta name="og:image" content="https://cybozu.github.io/frontend-monthly/assets/img/header.png"/><meta name="twitter:title" content="Cybozu Frontend Monthly #5"/><meta name="twitter:description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="Cybozu Frontend Expert Team"/><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/themes/prism.min.css"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/de019082f7bd6e5c1d8d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/de019082f7bd6e5c1d8d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/dfdf5f649880e41cbd5c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dfdf5f649880e41cbd5c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-377d9957422d331503bc.js" defer=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" defer=""></script><script src="/_next/static/chunks/main-08911db57cbb5406b625.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0eda503e19a294e1d1a6.js" defer=""></script><script src="/_next/static/chunks/423-4bcace61643c26d7ea4d.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-ef2fc0284b56e952f610.js" defer=""></script><script src="/_next/static/NpWyftPghPL3KcdiNy9a1/_buildManifest.js" defer=""></script><script src="/_next/static/NpWyftPghPL3KcdiNy9a1/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css crwfbk">.css-crwfbk{display:grid;grid-template-rows:auto 1fr auto;height:100vh;box-sizing:border-box;}.css-crwfbk .main{box-sizing:border-box;min-width:200px;max-width:980px;width:100%;margin:0 auto;padding:15px 45px;color:#24292e;}.css-crwfbk .main h1{margin-top:0;}@media (max-width: 767px){.css-crwfbk .main{padding:12px;font-size:14px;}.css-crwfbk .main .markdown-body{font-size:14px;}.css-crwfbk .main h1{font-size:1.55em;margin-bottom:0.25em;margin-top:0.5em;}.css-crwfbk .main h2{font-size:1.3em;margin-bottom:0.25em;margin-top:0.5em;}.css-crwfbk .main h3{font-size:1.1em;margin-bottom:0.25em;margin-top:0.5em;}.css-crwfbk .main hr{margin:12px 0;}}.css-crwfbk .footer{background-color:#31424e;text-align:center;color:#f8f8ff;font-size:0.75em;padding:5px 0;}.css-crwfbk .footer a{color:inherit;}</style><div class="markdown-body css-crwfbk"><main class="main"><style data-emotion="css e4jomx">.css-e4jomx .markdown-body img{border:1px solid rgba(0, 0, 0, 0.1);max-width:90%;height:auto;margin:12px auto;display:block;}.css-e4jomx .markdown-body li>p{margin:8px 0;}@media screen and (max-width: 420px){.css-e4jomx .markdown-body{font-size:14px;}.css-e4jomx .markdown-body li>p{margin:4px 0;}}.css-e4jomx h1{margin-top:0;}.css-e4jomx >h1:first-of-type{margin-top:0!important;}.css-e4jomx h3{position:relative;margin-left:-5px;padding-left:5px;}.css-e4jomx h3:hover .icon.icon-link{position:absolute;right:calc(100%);}.css-e4jomx h3:hover .icon.icon-link:before{font-size:0.75em;content:"🔗";}</style><article class="css-e4jomx"><h1>Cybozu Frontend Monthly #5</h1><div><img src="/assets/img/header.png" width="659" height="229" alt=""/></div><h2>イベント概要</h2><p><strong>サイボウズフロントエンドマンスリー</strong>は、サイボウズ社内で行っているフロントエンド情報共有会「フロントエンドウィークリー」の公開版です。</p><p>その月に気になったフロントエンドの情報を、サイボウズのフロントエンドエキスパートチームのメンバーが共有していきます。</p><p><strong>このイベントのハッシュタグは<!-- --> <a href="https://twitter.com/search?q=%23%E3%82%B5%E3%82%A4%E3%83%9C%E3%82%A6%E3%82%BA%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%AA%E3%83%BC" target="_blank" rel="noopener noreferrer">#サイボウズフロントエンドマンスリー</a> <!-- -->です。</strong></p><style data-emotion="css y47mw7">.css-y47mw7 h3{margin-top:0;}.css-y47mw7 p{margin-bottom:0;white-space:pre-line;}</style><pre class="css-y47mw7"><h3>※フロントエンドウィークリーとは</h3><p>毎週火曜の 17:00 〜 18:00 で社内向けに行っているフロントエンドの気になる記事を紹介する会です。2016年3月15日から行われています。<br/>ハッシュタグ<!-- --> <a href="https://twitter.com/search?q=%23%E3%82%B5%E3%82%A4%E3%83%9C%E3%82%A6%E3%82%BA%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%82%A6%E3%82%A3%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%BC" target="_blank" rel="noopener noreferrer">#サイボウズフロントエンドウィークリー</a> <!-- -->で実況しています。</p></pre><h3>開催日</h3><p>2020年11月24日</p><h3>イベントページ</h3><p><a href="https://cybozu.connpass.com/event/196103/" target="_blank" rel="noopener noreferrer">https://cybozu.connpass.com/event/196103/</a></p><h3>配信URL</h3><style data-emotion="css 14br0ti">.css-14br0ti .embed{display:block;max-width:100%;max-height:280px;}</style><p class="css-14br0ti"><iframe title="https://www.youtube.com/embed/x6mhjoYoGMo" width="560" height="315" src="https://www.youtube.com/embed/x6mhjoYoGMo" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="embed"></iframe><a href="https://www.youtube.com/watch?v=x6mhjoYoGMo" target="_blank" rel="noreferrer noopner">https://www.youtube.com/watch?v=x6mhjoYoGMo</a></p><h3>タイムテーブル</h3><table><tbody><tr><td>07:50 - 08:00</td><td>配信開始</td></tr><tr><td>08:00 - 08:05</td><td>オープニング</td></tr><tr><td>08:05 - 08:55</td><td>本編</td></tr><tr><td>08:55 - 09:00</td><td>クロージング</td></tr></tbody></table><h2>メンバー</h2><style data-emotion="css 1g63iqu">.css-1g63iqu{display:grid;grid-template-columns:repeat(auto-fill, minmax(120px, 1fr));grid-gap:24px 12px;padding:12px;}.css-1g63iqu .member{text-align:center;}.css-1g63iqu .thumbnail{border-radius:50%;margin:0 auto 5px;}</style><div class="css-1g63iqu"><div class="member"><img class="thumbnail" src="/assets/photo/f8079885d680213e64e4d706daa4a5ee_400x400.jpeg" width="100" height="100" alt=""/><a href="https://twitter.com/koba04" target="_blank" rel="noopener noreferrer">@koba04</a></div><div class="member"><img class="thumbnail" src="/assets/photo/a95b52be00e06cd293a6853bc36490bc_400x400.jpeg" width="100" height="100" alt=""/><a href="https://twitter.com/pirosikick" target="_blank" rel="noopener noreferrer">@pirosikick</a></div><div class="member"><img class="thumbnail" src="/assets/photo/fGX7e5wk_400x400.jpg" width="100" height="100" alt=""/><a href="https://twitter.com/toshi__toma" target="_blank" rel="noopener noreferrer">@toshi__toma</a></div><div class="member"><img class="thumbnail" src="/assets/photo/Q_ihmvTQ_400x400.png" width="100" height="100" alt=""/><a href="https://twitter.com/zaki___yama" target="_blank" rel="noopener noreferrer">@zaki___yama</a></div><div class="member"><img class="thumbnail" src="/assets/photo/erghEqaW_400x400.png" width="100" height="100" alt=""/><a href="https://twitter.com/__sakito__" target="_blank" rel="noopener noreferrer">@__sakito__</a></div><div class="member"><img class="thumbnail" src="/assets/photo/A9M8G6DH_400x400.jpg" width="100" height="100" alt=""/><a href="https://twitter.com/shisama_" target="_blank" rel="noopener noreferrer">@shisama_</a></div><div class="member"><img class="thumbnail" src="/assets/photo/EKNVNzOg_400x400.jpg" width="100" height="100" alt=""/><a href="https://twitter.com/nakajmg" target="_blank" rel="noopener noreferrer">@nakajmg</a></div><div class="member"><img class="thumbnail" src="/assets/photo/QySbTwnO_400x400.jpg" width="100" height="100" alt=""/><a href="https://twitter.com/b4h0_c4t" target="_blank" rel="noopener noreferrer">@b4h0_c4t</a></div><div class="member"><img class="thumbnail" src="/assets/photo/7iJNhdua_400x400.jpg" width="100" height="100" alt=""/><a href="https://twitter.com/__sosukesuzuki" target="_blank" rel="noopener noreferrer">@__sosukesuzuki</a></div></div><hr/><h2>紹介記事</h2><div class="markdown-body"><h3 id="we-rendered-a-million-web-pages-to-learn-how-the-web-breaks"><a href="#we-rendered-a-million-web-pages-to-learn-how-the-web-breaks" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://medium.com/dailyjs/we-rendered-a-million-web-pages-to-learn-how-the-web-breaks-fdf12f5c505a" target="_blank" rel="nofollow">We rendered a million web pages to learn how the web breaks</a></h3>
<ul>
<li>共有者:b4h0_c4t</li>
</ul>
<p>Web ページがどのようにして壊れるかを学ぶため、実際に発生しているエラーを調査、考察した記事。</p>
<p>トップ 100 ドメインのルートページ 100 万件をレンダリングするスクリプトを使用して出力される未処理エラーを調査した結果、85%が <code>ReferenceError</code> <code>TypeError</code> <code>SyntaxError</code> 。
また、上記のエラーが実際に発生している理由として、そのほとんどがリソースの読み込み失敗に起因していると述べています。</p>
<ul>
<li>How to resolve ReferenceError
<ul>
<li>ReferenceError の多くはライブラリが生成したグローバル変数を読み込む時に発生している。</li>
</ul>
</li>
<li>What causes TypeError on live web site?
<ul>
<li>TypeError の 97%は null もしくは undefined に起因している。</li>
</ul>
</li>
<li>What causes SyntaxError on live web site?
<ul>
<li>開発中に遭遇する SyntaxError のほとんどは typo。デプロイされている Web サイトの場合はほとんどがネットワーク障害か JS のプログラム生成の失敗に起因している。</li>
</ul>
</li>
</ul>
<p>ほとんどのエラーと強く関連しているコードは <code>webpack</code> で、サンプルにした Web ページの 12%が 1 件以上のエラーを発生させている。</p>
<p>エラーの出にくい Web サイトを作るためには静的検査が欲しいが、遅延バインディングの必要性もあってなかなか難しい。
その点、TypeScript は検査時と実行時で性質を完全に分離しているので良いトレードオフかもしれない。
最近は WebAssembly が登場し、JS レスで静的検査に寄せられる土台ができつつあるが、実行時にランタイム外との対話が必要なことにわ変わりなさそう。</p>
<p>ランタイムの動的性質を許可しつつ、部分的に静的検査によって安全性を担保することが壊れにくい Web ページを作る鍵になるかもしれないと締めていました。</p>
<hr>
<h3 id="performance-·-microsofttypescript-wiki"><a href="#performance-%C2%B7-microsofttypescript-wiki" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://github.com/microsoft/TypeScript/wiki/Performance" target="_blank" rel="nofollow">Performance · microsoft/TypeScript Wiki</a></h3>
<ul>
<li>共有者:sakito</li>
</ul>
<p>この wiki 自体は TypeScript チームがコンパイル速度や実装の体験をよくするための情報として、去年ごろに公開していました。</p>
<p>今年の秋ごろ<a href="https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code" target="_blank" rel="nofollow">「Writing Easy-to-Compile Code」</a>の項目が追加されています。
この項目はコンパイルパフォーマンスがいい書き方を示してくれています。</p>
<p>項目は下記 3 つに別れています。</p>
<ul>
<li><a href="https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code" target="_blank" rel="nofollow">Preferring Interfaces Over Intersections</a>
<ul>
<li>Type を使った Intersection Types よりも interface の extends のほうがいいとのこと。</li>
</ul>
</li>
<li><a href="https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations" target="_blank" rel="nofollow">Using Type Annotations</a>
<ul>
<li>関数の戻り値の型は、明示的に型を定義したほうがコンパイル時間の節約になる。型推論は便利なので、コンパイルのボトルネックとなってる場合には試してねとのこと。</li>
</ul>
</li>
<li><a href="https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations" target="_blank" rel="nofollow">Preferring Base Types Over Unions</a>
<ul>
<li>Union Type を使用するよりも sub types を使った方がよいとのこと(例のコードを見た方がわかりやすい)</li>
</ul>
</li>
</ul>
<p>interface と Type に関する記事は最近<a href="https://ncjamieson.com/prefer-interfaces/" target="_blank" rel="nofollow">「TypeScript: Prefer Interfaces」</a>も出ており、
Type はインライン化されるので d.ts のサイズが肥大化するから interface を推奨するという内容の記事になっています。
これは d.ts を書く場合に覚えておくとよさそうです。</p>
<p>TypeScript の Type か interface を使うか、型推論に任せるかは時と場合によるというのを前提での紹介でした！</p>
<hr>
<h3 id="vue-ref-の糖衣構文と-svelte"><a href="#vue-ref-%E3%81%AE%E7%B3%96%E8%A1%A3%E6%A7%8B%E6%96%87%E3%81%A8-svelte" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://zenn.dev/kalan/articles/6e96e13fb2b0447af4f6" target="_blank" rel="nofollow">Vue Ref の糖衣構文と Svelte</a></h3>
<ul>
<li>共有者: nakajmg</li>
</ul>
<p>vue の rfc に<a href="https://composition-api.vuejs.org/api.html#ref" target="_blank" rel="nofollow"><code>ref</code></a>の糖衣構文である<a href="https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct" target="_blank" rel="nofollow">(Svelte inspired な)<code>ref:</code>構文についての rfc</a>が出されました。この記事ではメリデメや Svelte との比較などについて書かれています。</p>
<h4 id="rfc-の背景"><a href="#rfc-%E3%81%AE%E8%83%8C%E6%99%AF" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>rfc の背景</h4>
<p>vue ではリアクティブな変数を定義するために<code>ref()</code>という関数を使います。</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">createComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">,</span>
      inc<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p><code>ref()</code>で作成した変数の取得/更新は<code>count.value</code>のように<code>.value</code>を経由する必要があります。TypeScript を採用していれば<code>.value</code>を経由しないで参照しようとするとエラーなりが出るので問題ないですが、そうでない場合は<code>ref()</code>で作られた変数と通常の(reactive じゃない）変数を区別する必要があります。</p>
<h4 id="提案された構文"><a href="#%E6%8F%90%E6%A1%88%E3%81%95%E3%82%8C%E3%81%9F%E6%A7%8B%E6%96%87" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>提案された構文</h4>
<p>この<code>.value</code>を使うのが面倒で冗長だよねというところから次のような糖衣構文が提案されています。</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>script setup<span class="token operator">></span>
  <span class="token comment">// declaring a variable that compiles to a ref ref: count = 1 function inc(){" "}</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// the variable can be used like a plain value</span>
    count<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// access the raw ref object by prefixing with $ console.log($count.value)</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre></div>
<blockquote>
<p><a href="https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct" target="_blank" rel="nofollow">https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct</a></p>
</blockquote>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/label" target="_blank" rel="nofollow">ラベル付き文</a>の構文を使って reactive な変数を定義し、<code>.value</code>なしに参照しています。</p>
<p>このコードはコンパイルされて 👆 にあるようなコードに変換されます。</p>
<h4 id="javascript-のセマンティクスとトレードオフ"><a href="#javascript-%E3%81%AE%E3%82%BB%E3%83%9E%E3%83%B3%E3%83%86%E3%82%A3%E3%82%AF%E3%82%B9%E3%81%A8%E3%83%88%E3%83%AC%E3%83%BC%E3%83%89%E3%82%AA%E3%83%95" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>JavaScript のセマンティクスとトレードオフ</h4>
<p><code>.value</code>を経由するようになっているのは JavaScript の言語的な制約からきているもので、vue は JavaScript のセマンティクスを変更/拡張することなくリアクティブを実現するためにこうしています。
今回の rfc は、JavaScript のセマンティクスから逸れてると認識しながらも、開発者の体験を向上させるためにトレードオフを行う余地があるのではという考えから提出されました。</p>
<h4 id="感想"><a href="#%E6%84%9F%E6%83%B3" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>感想</h4>
<p>自分は次の理由からあまりいい提案ではないように思います。</p>
<ul>
<li>vue 独自の構文である
<ul>
<li>どんどん増えていきそう</li>
<li>JavaScript エコシステムへの負荷(Linter とかエディタ）</li>
</ul>
</li>
<li>本来のラベル付き文から逸脱している</li>
<li>コンパイル前後のコードに差異が結構ある</li>
</ul>
<p>この糖衣構文によって開発者の体験が短期的には向上するかもしれませんが、解決したい課題に対してデメリットが上回っていると感じています。（この rfc に限らず vue が<code>&#x3C;script setup></code>など、独自の糖衣構文的なものを追加してくる傾向があること自体にあまりいい印象を持っていないです。）</p>
<hr>
<h3 id="how-web-apps-work--marks-dev-blog"><a href="#how-web-apps-work--marks-dev-blog" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://blog.isquaredsoftware.com/series/how-web-apps-work/" target="_blank" rel="nofollow">How Web Apps Work | Mark's Dev Blog</a></h3>
<ul>
<li>共有者:toshi-toma</li>
</ul>
<p>Redux のメンテーである<a href="https://twitter.com/acemarke" target="_blank" rel="nofollow">Mark Erikson</a>による、Web 開発の概念や用語、ツール、技術について説明するシリーズ。Web 開発は様々な技術が出てくるので、それらがなぜ必要なのか、どう関係してるのかを説明してる。そして、必要に応じて深く調べれるように別記事への導線も用意されている。</p>
<p>個人的に、Redux のドキュメントの英語読みやすいなーと思ってたので、網羅的に書かれていて、かつ読みやすい記事でありがたいなと思いました。</p>
<p>テーマごとに全 5 記事ある</p>
<ul>
<li><a href="https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-http-server/" target="_blank" rel="nofollow">HTTP and Servers</a>
<ul>
<li>HTTP とアプリケーションサーバーの話</li>
<li>触れてる内容: HTTP, IP アドレス, DNS, HTTP リクエスト, HTTP レスポンス, ヘッダー, HTTP メソッド, ステータスコード, クッキー, アプリケーションサーバー(リクエストの処理、ルーティング、静的ファイル、動的な Web アプリケーションサーバー)</li>
</ul>
</li>
<li><a href="https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-client-dev-deployment/" target="_blank" rel="nofollow">Client Development and Deployment</a>
<ul>
<li>JS メインのフロントエンド開発の話</li>
<li>触れてる内容: JS の歴史, JS モジュールフォーマット, コンパイル(トランスパイル), バンドル, 開発環境ツール(Node.js), デプロイ, ポリフィル, Code Splitting</li>
</ul>
</li>
<li><a href="https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-html-css/" target="_blank" rel="nofollow">Browsers, HTML, and CSS</a>
<ul>
<li>ブラウザと HTML, CSS の話</li>
<li>触れてる内容: ブラウザ, メジャーブラウザ, HTML, タグや属性, セマンティクス, CSS, 構文とセレクタ, ページレイアウト(ボックスモデル, display, position, flexbox, grid), レスポンシブ</li>
</ul>
</li>
<li><a href="https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-javascript-dom/" target="_blank" rel="nofollow">JavaScript and the DOM</a>
<ul>
<li>JS の幅広い基本的な内容と DOM の話</li>
<li>触れてる内容: ECMAScript, JS の概要(構文, データタイプ, 組み込み関数, this, Class, タイマーとイベントループ, 非同期処理), イミュータブル, DOM, jQuery</li>
</ul>
</li>
<li><a href="https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-ajax-apis-data/" target="_blank" rel="nofollow">AJAX, APIs, and Data Transfer</a>
<ul>
<li>クライアントとサーバー間でデータをやり取りする話</li>
<li>触れてる内容: JSON, Ajax, ポーリング, WebSockets, CORS, REST, RPC, GraphQL, ブラウザストレージ, クライアントルーティング</li>
</ul>
</li>
</ul>
<hr>
<h3 id="tc39proposal-js-module-blocks"><a href="#tc39proposal-js-module-blocks" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://github.com/tc39/proposal-js-module-blocks" target="_blank" rel="nofollow">tc39/proposal-js-module-blocks</a></h3>
<ul>
<li>共有者: @sosukesuzuki</li>
</ul>
<p>JS Modules Blocks は先日の TC39 ミーティングで <a href="https://twitter.com/DasSurma/status/1329059832150831111" target="_blank" rel="nofollow">Stage 1 になった</a> プロポーザルです。</p>
<p>このプロポーザルは、ファイルを隔てずにモジュールを定義できるインラインモジュール式(<code>InlineModuleExpression</code>)という新しい構文を導入します。</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> module <span class="token punctuation">{</span>
  <span class="token keyword module">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>この <code>module {}</code> という部分が新しく導入される構文です。式なので、結果をそのまま値として扱うことが可能です。</p>
<p>ここで定義された<code>m</code>は <code>import(...)</code> で import できます。</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> module <span class="token punctuation">{</span>
  <span class="token keyword module">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre></div>
<p>まだ Stage 1 なのでこれから仕様が大幅に変更される可能性はありますが、実用性もあり面白い提案なので、注目しておくと良さそうです。</p>
<hr>
<h3 id="webassembly-ハンズオン-実際に動かして基礎を学ぶ（翻訳）"><a href="#webassembly-%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3-%E5%AE%9F%E9%9A%9B%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E5%9F%BA%E7%A4%8E%E3%82%92%E5%AD%A6%E3%81%B6%EF%BC%88%E7%BF%BB%E8%A8%B3%EF%BC%89" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://techracho.bpsinc.jp/hachi8833/2020_11_02/97774" target="_blank" rel="nofollow">WebAssembly ハンズオン: 実際に動かして基礎を学ぶ（翻訳）</a></h3>
<ul>
<li>共有者: @zaki___yama</li>
</ul>
<p>原文は 8 月頃に投稿された <a href="https://evilmartians.com/chronicles/hands-on-webassembly-try-the-basics" target="_blank" rel="nofollow">Hands-on WebAssembly: Try the basics — Martian Chronicles, Evil Martians’ team blog</a> という記事。</p>
<p>ハンズオンと書いてますが手を動かす成分は少なめ。環境構築も Docker で提供されてるものを使うので楽です。（何をインストールしてるのかわかりづらいというのはある）</p>
<p>内容としては</p>
<ul>
<li><code>clang</code> を使った素朴なやり方で C のソースを wasm にコンパイルする</li>
<li><code>wasm-objdump</code> で wasm の中身を確認する</li>
<li>Bynarien (<code>wasm-opt</code>) で wasm のバイナリサイズを圧縮する</li>
<li>WebAssembly Binary toolkit (wabt) で wasm を wat に変換し、中身を確認する</li>
<li>Emscripten でコンパイルしてみる</li>
<li>同じことを Rust でやってみる（ライブラリを使ったやり方）</li>
</ul>
<p>という感じで、C メインで Rust はおまけ程度。</p>
<p>大部分は C で wasm 書く予定がなければ必要ない情報かなーと思いましたが、個人的には</p>
<ul>
<li>「コンパイラの即席入門(Compilers 101)」で説明されてるコンパイラの概要
（コンパイラはソースコードをパースして一旦内部表現(IR)に変換する。WebAssembly はどんなブラウザでも理解できる内部表現という位置づけ）</li>
<li>「ドラゴンのはらわた（Dragon guts）」
<ul>
<li>テキスト形式の <code>.wat</code> ファイルの読み方</li>
</ul>
</li>
</ul>
<p>あたりが面白かったです。</p>
<p>元の C の関数</p>
<div class="remark-highlight"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">sign</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div>
<p>を wat にすると、</p>
<div class="remark-highlight"><pre class="language-wat"><code class="language-wat">(func (;1;) (type 0) (param i32) (result i32)
  i32.const 2
  local.get 0
  i32.const 4
  i32.rem_s
  i32.sub
  local.get 0
  i32.const 2
  i32.rem_s
  i32.mul)</code></pre></div>
<p>となり、これは</p>
<ol>
<li>整数値 <code>2</code> をスタックに push する（<code>i32.const 2</code>）</li>
<li>関数の最初のパラメーターをスタックに push（<code>local.get 0</code>）</li>
<li>整数値 <code>4</code> をスタックに push（<code>i32.const 4</code>）</li>
<li>スタックから 2 つの値を削除して 1 番目の値を 2 番目の値で割った余りをスタックに push する（<code>i32.rem_s</code>）</li>
</ol>
<p>が <code>x % 4</code> に相当します。</p>
<hr>
<h3 id="dropping-support-for-ie11-is-progressive-enhancement-·-the-ethically-trained-programmer"><a href="#dropping-support-for-ie11-is-progressive-enhancement-%C2%B7-the-ethically-trained-programmer" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://blog.carlmjohnson.net/post/2020/time-to-kill-ie11/" target="_blank" rel="nofollow">Dropping Support For IE11 Is Progressive Enhancement · The Ethically-Trained Programmer</a></h3>
<ul>
<li>共有者: @pirosikick</li>
</ul>
<p>IE11 をサポートする労力を JavaScript を無効にしているユーザーのために使ったほうがいいんじゃないかという話。</p>
<ul>
<li>IE11 は減少傾向だが、JS 無し環境は無くならない
<ul>
<li>JS をダウンロードしている間はみんな JS 無し環境</li>
<li>広告ブロッカーの普及によって、JS 無し・JS が壊れている人は一定数居る</li>
</ul>
</li>
<li>QA チームがない場合、問い合わせが無いだけで IE11 で壊れているかも
<ul>
<li>Babel/Autoprefixer などによるトラスパイルだけでは不完全で、API の polyfill、IE11 特有のバグへの対応など、IE11 対応するなら IE11 で QA する必要がある</li>
</ul>
</li>
<li>IE11 サポートする代わりに、script タグの module/nomodule を使って Progressive Enhancement しよう
<ul>
<li>nomodule 側はできる限る JS を少なくするべき。</li>
<li>理想は全く無しだが、実際は広告や Analitics だけ JS 使うことになりそう</li>
<li>Analitics に IE11 ユーザーが出続ける限り、ちゃんと動いているはず</li>
</ul>
</li>
<li>JS 無しユーザーのために特別な実装するほうが大変じゃない？
<ul>
<li>基本は、JS 無しユーザー用のクラス(<code>.has-old-js</code>)を使って、要素の表示・非表示するだけ</li>
<li>最近の JS は十分にモジュール化されているはず</li>
</ul>
</li>
<li>筆者の具体例
<ul>
<li>モーダルが IE11 では出ない、静的なレイアウトへの切り替え、検索機能は Google に送信するフォームへ切り替え</li>
</ul>
</li>
</ul>
<p>※余談：ブログが「The Ethically-Trained Programmer（倫理的に訓練されたプログラマ）」で favicon が「倫」で笑った</p>
<hr>
<h3 id="use-css-variables-instead-of-react-context--epic-react-by-kent-c-dodds"><a href="#use-css-variables-instead-of-react-context--epic-react-by-kent-c-dodds" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://epicreact.dev/css-variables/" target="_blank" rel="nofollow">Use CSS Variables instead of React Context | Epic React by Kent C. Dodds</a></h3>
<ul>
<li>共有者: @pirosikick</li>
</ul>
<p>CSS in JS の React Context を使ったテーマ機能（例：<a href="https://styled-components.com/docs/advanced#theming" target="_blank" rel="nofollow">styled-components の ThemeProvider</a>）より、CSS Variables を使おうという話。</p>
<ul>
<li>開発者体験的には違いはない（個人的には CSS Variables のほうがシンプルで好き）</li>
<li>テーマ切替時に再描画するコンポーネント数が React Context のほうが多い</li>
</ul>
<hr>
<h3 id="building-a-type-checked-url-router-from-scratch"><a href="#building-a-type-checked-url-router-from-scratch" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a href="https://ja.nsommer.dk/articles/type-checked-url-router.html" target="_blank" rel="nofollow">Building a type checked url router from scratch</a></h3>
<ul>
<li>共有者: @shisama_</li>
</ul>
<p>SPA のルーティングに設定する URL の型を TypeScript 4.1 で新しく追加された Template Literal Types を使って検査する方法の紹介です。</p>
<p>Template Literal Types については<a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-1/#template-literal-types" target="_blank" rel="nofollow">Announcing TypeScript 4.1</a>の記事で紹介されています。</p>
<p>記事中の型宣言から一部抜き出すと次のように Template Literal で文字列から infer で値を抜き出すことが出来ます。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TemplateVariables<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Start<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Variable<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token operator">?</span> TemplateVariables<span class="token operator">&#x3C;</span>Start<span class="token operator">></span> <span class="token operator">|</span> Variable
  <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">param</span> <span class="token operator">=</span> TemplateVariables<span class="token operator">&#x3C;</span><span class="token string">"/api/users/:id"</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// param = "id"</span>
</code></pre></div>
<p>この記事の最終的な目的はコンポーネントに紐付けたパスのパラメータとコンポーネントの Props の型が同じになるようにしたいということです。</p>
<p>記事中から一部抜粋した例をあげます。
以下のようなコンポーネントがあったとき、</p>
<div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx">type <span class="token maybe-class-name">MyDogProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string
  breed<span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token maybe-class-name">MyDog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> breed <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">MyDogProps</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">string</span> <span class="token arrow operator">=></span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#x3C;p>My dog's name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and it's a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>breed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#x3C;/p></span>
<span class="token string">   &#x3C;p></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function"><span class="token maybe-class-name">Link</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> route<span class="token operator">:</span> routes<span class="token punctuation">.</span><span class="token property-access">home</span><span class="token punctuation">,</span> children<span class="token operator">:</span> <span class="token string">"Back to home"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#x3C;/p></span><span class="token template-punctuation string">`</span></span>
</code></pre></div>
<p>以下のようなルーティング定義をしておきます。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">{</span>
  home<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Home<span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  dog<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>MyDog<span class="token punctuation">,</span> <span class="token string">"my-dog/:name/:breed"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  search<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Search<span class="token punctuation">,</span> <span class="token string">"search/:query"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>注目してほしいのが、<code>my-dog/:name/:breed</code>の<code>name</code>と<code>breed</code>です。これえは MyDogProps のキーと同じです。なので、たとえば以下のように MyDogProps のキー名が違う場合エラーになります。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">MyDogProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  breed_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">{</span>
  dog<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>MyDog<span class="token punctuation">,</span> <span class="token string">"my-dog/:name/:breed"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// breed というプロパティはないためエラー</span>
</code></pre></div>
<p>また、Props には定義されているのにパスには存在しない場合もエラーになります。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">MyDogProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">{</span>
  dog<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>MyDog<span class="token punctuation">,</span> <span class="token string">"my-dog/:name/:breed"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// age がないためエラー</span>
</code></pre></div>
<p>逆に Props にないパラメータをパスに含めてもエラーになります。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">MyDogProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">{</span>
  dog<span class="token operator">:</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">[</span>MyDog<span class="token punctuation">,</span> <span class="token string">"my-dog/:name/:breed/:age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Propsにageはないためエラー</span>
</code></pre></div>
<p>このようにコンポーネントが期待するパラメータが正しく渡ってくることを事前にチェックすることができます。</p>
<hr>
</div><h2>フロントエンドエキスパートチームについて</h2><style data-emotion="css gz8dae">.css-gz8dae{padding:20px;}</style><div class="css-gz8dae"></div><p style="margin-bottom:0"><a href="https://speakerdeck.com/cybozuinsideout/frontendexpert-team" target="_blank" rel="nofollow noopener noreferrer">https://speakerdeck.com/cybozuinsideout/frontendexpert-team</a></p></article></main><footer class="footer"><a href="/">Cybozu Frontend Monthly</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"membersPhotoUrl":{"@koba04":"/assets/photo/f8079885d680213e64e4d706daa4a5ee_400x400.jpeg","@pirosikick":"/assets/photo/a95b52be00e06cd293a6853bc36490bc_400x400.jpeg","@toshi__toma":"/assets/photo/fGX7e5wk_400x400.jpg","@zaki___yama":"/assets/photo/Q_ihmvTQ_400x400.png","@__sakito__":"/assets/photo/erghEqaW_400x400.png","@shisama_":"/assets/photo/A9M8G6DH_400x400.jpg","@nakajmg":"/assets/photo/EKNVNzOg_400x400.jpg","@b4h0_c4t":"/assets/photo/QySbTwnO_400x400.jpg","@__sosukesuzuki":"/assets/photo/7iJNhdua_400x400.jpg"},"frontmatter":{"title":"Cybozu Frontend Monthly","date":"2020-11-24T17:00:00+09:00","slug":"2020-11","connpass":"https://cybozu.connpass.com/event/196103/","streamUrl":"https://www.youtube.com/watch?v=x6mhjoYoGMo","hashTag":"#サイボウズフロントエンドマンスリー","no":5,"members":[{"name":"@koba04","link":"https://twitter.com/koba04"},{"name":"@pirosikick","link":"https://twitter.com/pirosikick"},{"name":"@toshi__toma","link":"https://twitter.com/toshi__toma"},{"name":"@zaki___yama","link":"https://twitter.com/zaki___yama"},{"name":"@__sakito__","link":"https://twitter.com/__sakito__"},{"name":"@shisama_","link":"https://twitter.com/shisama_"},{"name":"@nakajmg","link":"https://twitter.com/nakajmg"},{"name":"@b4h0_c4t","link":"https://twitter.com/b4h0_c4t"},{"name":"@__sosukesuzuki","link":"https://twitter.com/__sosukesuzuki"}],"guest":null},"html":"\u003ch3 id=\"we-rendered-a-million-web-pages-to-learn-how-the-web-breaks\"\u003e\u003ca href=\"#we-rendered-a-million-web-pages-to-learn-how-the-web-breaks\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://medium.com/dailyjs/we-rendered-a-million-web-pages-to-learn-how-the-web-breaks-fdf12f5c505a\" target=\"_blank\" rel=\"nofollow\"\u003eWe rendered a million web pages to learn how the web breaks\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者:b4h0_c4t\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWeb ページがどのようにして壊れるかを学ぶため、実際に発生しているエラーを調査、考察した記事。\u003c/p\u003e\n\u003cp\u003eトップ 100 ドメインのルートページ 100 万件をレンダリングするスクリプトを使用して出力される未処理エラーを調査した結果、85%が \u003ccode\u003eReferenceError\u003c/code\u003e \u003ccode\u003eTypeError\u003c/code\u003e \u003ccode\u003eSyntaxError\u003c/code\u003e 。\nまた、上記のエラーが実際に発生している理由として、そのほとんどがリソースの読み込み失敗に起因していると述べています。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eHow to resolve ReferenceError\n\u003cul\u003e\n\u003cli\u003eReferenceError の多くはライブラリが生成したグローバル変数を読み込む時に発生している。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eWhat causes TypeError on live web site?\n\u003cul\u003e\n\u003cli\u003eTypeError の 97%は null もしくは undefined に起因している。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eWhat causes SyntaxError on live web site?\n\u003cul\u003e\n\u003cli\u003e開発中に遭遇する SyntaxError のほとんどは typo。デプロイされている Web サイトの場合はほとんどがネットワーク障害か JS のプログラム生成の失敗に起因している。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eほとんどのエラーと強く関連しているコードは \u003ccode\u003ewebpack\u003c/code\u003e で、サンプルにした Web ページの 12%が 1 件以上のエラーを発生させている。\u003c/p\u003e\n\u003cp\u003eエラーの出にくい Web サイトを作るためには静的検査が欲しいが、遅延バインディングの必要性もあってなかなか難しい。\nその点、TypeScript は検査時と実行時で性質を完全に分離しているので良いトレードオフかもしれない。\n最近は WebAssembly が登場し、JS レスで静的検査に寄せられる土台ができつつあるが、実行時にランタイム外との対話が必要なことにわ変わりなさそう。\u003c/p\u003e\n\u003cp\u003eランタイムの動的性質を許可しつつ、部分的に静的検査によって安全性を担保することが壊れにくい Web ページを作る鍵になるかもしれないと締めていました。\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"performance-·-microsofttypescript-wiki\"\u003e\u003ca href=\"#performance-%C2%B7-microsofttypescript-wiki\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://github.com/microsoft/TypeScript/wiki/Performance\" target=\"_blank\" rel=\"nofollow\"\u003ePerformance · microsoft/TypeScript Wiki\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者:sakito\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこの wiki 自体は TypeScript チームがコンパイル速度や実装の体験をよくするための情報として、去年ごろに公開していました。\u003c/p\u003e\n\u003cp\u003e今年の秋ごろ\u003ca href=\"https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code\" target=\"_blank\" rel=\"nofollow\"\u003e「Writing Easy-to-Compile Code」\u003c/a\u003eの項目が追加されています。\nこの項目はコンパイルパフォーマンスがいい書き方を示してくれています。\u003c/p\u003e\n\u003cp\u003e項目は下記 3 つに別れています。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code\" target=\"_blank\" rel=\"nofollow\"\u003ePreferring Interfaces Over Intersections\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eType を使った Intersection Types よりも interface の extends のほうがいいとのこと。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations\" target=\"_blank\" rel=\"nofollow\"\u003eUsing Type Annotations\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e関数の戻り値の型は、明示的に型を定義したほうがコンパイル時間の節約になる。型推論は便利なので、コンパイルのボトルネックとなってる場合には試してねとのこと。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations\" target=\"_blank\" rel=\"nofollow\"\u003ePreferring Base Types Over Unions\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eUnion Type を使用するよりも sub types を使った方がよいとのこと(例のコードを見た方がわかりやすい)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003einterface と Type に関する記事は最近\u003ca href=\"https://ncjamieson.com/prefer-interfaces/\" target=\"_blank\" rel=\"nofollow\"\u003e「TypeScript: Prefer Interfaces」\u003c/a\u003eも出ており、\nType はインライン化されるので d.ts のサイズが肥大化するから interface を推奨するという内容の記事になっています。\nこれは d.ts を書く場合に覚えておくとよさそうです。\u003c/p\u003e\n\u003cp\u003eTypeScript の Type か interface を使うか、型推論に任せるかは時と場合によるというのを前提での紹介でした！\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"vue-ref-の糖衣構文と-svelte\"\u003e\u003ca href=\"#vue-ref-%E3%81%AE%E7%B3%96%E8%A1%A3%E6%A7%8B%E6%96%87%E3%81%A8-svelte\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://zenn.dev/kalan/articles/6e96e13fb2b0447af4f6\" target=\"_blank\" rel=\"nofollow\"\u003eVue Ref の糖衣構文と Svelte\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: nakajmg\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003evue の rfc に\u003ca href=\"https://composition-api.vuejs.org/api.html#ref\" target=\"_blank\" rel=\"nofollow\"\u003e\u003ccode\u003eref\u003c/code\u003e\u003c/a\u003eの糖衣構文である\u003ca href=\"https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct\" target=\"_blank\" rel=\"nofollow\"\u003e(Svelte inspired な)\u003ccode\u003eref:\u003c/code\u003e構文についての rfc\u003c/a\u003eが出されました。この記事ではメリデメや Svelte との比較などについて書かれています。\u003c/p\u003e\n\u003ch4 id=\"rfc-の背景\"\u003e\u003ca href=\"#rfc-%E3%81%AE%E8%83%8C%E6%99%AF\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003erfc の背景\u003c/h4\u003e\n\u003cp\u003evue ではリアクティブな変数を定義するために\u003ccode\u003eref()\u003c/code\u003eという関数を使います。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e createComponent\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ref \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"vue\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreateComponent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003esetup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e count \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      count\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      count\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      inc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eref()\u003c/code\u003eで作成した変数の取得/更新は\u003ccode\u003ecount.value\u003c/code\u003eのように\u003ccode\u003e.value\u003c/code\u003eを経由する必要があります。TypeScript を採用していれば\u003ccode\u003e.value\u003c/code\u003eを経由しないで参照しようとするとエラーなりが出るので問題ないですが、そうでない場合は\u003ccode\u003eref()\u003c/code\u003eで作られた変数と通常の(reactive じゃない）変数を区別する必要があります。\u003c/p\u003e\n\u003ch4 id=\"提案された構文\"\u003e\u003ca href=\"#%E6%8F%90%E6%A1%88%E3%81%95%E3%82%8C%E3%81%9F%E6%A7%8B%E6%96%87\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e提案された構文\u003c/h4\u003e\n\u003cp\u003eこの\u003ccode\u003e.value\u003c/code\u003eを使うのが面倒で冗長だよねというところから次のような糖衣構文が提案されています。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003escript setup\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// declaring a variable that compiles to a ref ref: count = 1 function inc(){\" \"}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// the variable can be used like a plain value\u003c/span\u003e\n    count\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// access the raw ref object by prefixing with $ console.log($count.value)\u003c/span\u003e\n\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003escript\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct\" target=\"_blank\" rel=\"nofollow\"\u003ehttps://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/label\" target=\"_blank\" rel=\"nofollow\"\u003eラベル付き文\u003c/a\u003eの構文を使って reactive な変数を定義し、\u003ccode\u003e.value\u003c/code\u003eなしに参照しています。\u003c/p\u003e\n\u003cp\u003eこのコードはコンパイルされて 👆 にあるようなコードに変換されます。\u003c/p\u003e\n\u003ch4 id=\"javascript-のセマンティクスとトレードオフ\"\u003e\u003ca href=\"#javascript-%E3%81%AE%E3%82%BB%E3%83%9E%E3%83%B3%E3%83%86%E3%82%A3%E3%82%AF%E3%82%B9%E3%81%A8%E3%83%88%E3%83%AC%E3%83%BC%E3%83%89%E3%82%AA%E3%83%95\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003eJavaScript のセマンティクスとトレードオフ\u003c/h4\u003e\n\u003cp\u003e\u003ccode\u003e.value\u003c/code\u003eを経由するようになっているのは JavaScript の言語的な制約からきているもので、vue は JavaScript のセマンティクスを変更/拡張することなくリアクティブを実現するためにこうしています。\n今回の rfc は、JavaScript のセマンティクスから逸れてると認識しながらも、開発者の体験を向上させるためにトレードオフを行う余地があるのではという考えから提出されました。\u003c/p\u003e\n\u003ch4 id=\"感想\"\u003e\u003ca href=\"#%E6%84%9F%E6%83%B3\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e感想\u003c/h4\u003e\n\u003cp\u003e自分は次の理由からあまりいい提案ではないように思います。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003evue 独自の構文である\n\u003cul\u003e\n\u003cli\u003eどんどん増えていきそう\u003c/li\u003e\n\u003cli\u003eJavaScript エコシステムへの負荷(Linter とかエディタ）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e本来のラベル付き文から逸脱している\u003c/li\u003e\n\u003cli\u003eコンパイル前後のコードに差異が結構ある\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこの糖衣構文によって開発者の体験が短期的には向上するかもしれませんが、解決したい課題に対してデメリットが上回っていると感じています。（この rfc に限らず vue が\u003ccode\u003e\u0026#x3C;script setup\u003e\u003c/code\u003eなど、独自の糖衣構文的なものを追加してくる傾向があること自体にあまりいい印象を持っていないです。）\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"how-web-apps-work--marks-dev-blog\"\u003e\u003ca href=\"#how-web-apps-work--marks-dev-blog\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://blog.isquaredsoftware.com/series/how-web-apps-work/\" target=\"_blank\" rel=\"nofollow\"\u003eHow Web Apps Work | Mark's Dev Blog\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者:toshi-toma\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eRedux のメンテーである\u003ca href=\"https://twitter.com/acemarke\" target=\"_blank\" rel=\"nofollow\"\u003eMark Erikson\u003c/a\u003eによる、Web 開発の概念や用語、ツール、技術について説明するシリーズ。Web 開発は様々な技術が出てくるので、それらがなぜ必要なのか、どう関係してるのかを説明してる。そして、必要に応じて深く調べれるように別記事への導線も用意されている。\u003c/p\u003e\n\u003cp\u003e個人的に、Redux のドキュメントの英語読みやすいなーと思ってたので、網羅的に書かれていて、かつ読みやすい記事でありがたいなと思いました。\u003c/p\u003e\n\u003cp\u003eテーマごとに全 5 記事ある\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-http-server/\" target=\"_blank\" rel=\"nofollow\"\u003eHTTP and Servers\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eHTTP とアプリケーションサーバーの話\u003c/li\u003e\n\u003cli\u003e触れてる内容: HTTP, IP アドレス, DNS, HTTP リクエスト, HTTP レスポンス, ヘッダー, HTTP メソッド, ステータスコード, クッキー, アプリケーションサーバー(リクエストの処理、ルーティング、静的ファイル、動的な Web アプリケーションサーバー)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-client-dev-deployment/\" target=\"_blank\" rel=\"nofollow\"\u003eClient Development and Deployment\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eJS メインのフロントエンド開発の話\u003c/li\u003e\n\u003cli\u003e触れてる内容: JS の歴史, JS モジュールフォーマット, コンパイル(トランスパイル), バンドル, 開発環境ツール(Node.js), デプロイ, ポリフィル, Code Splitting\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-html-css/\" target=\"_blank\" rel=\"nofollow\"\u003eBrowsers, HTML, and CSS\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eブラウザと HTML, CSS の話\u003c/li\u003e\n\u003cli\u003e触れてる内容: ブラウザ, メジャーブラウザ, HTML, タグや属性, セマンティクス, CSS, 構文とセレクタ, ページレイアウト(ボックスモデル, display, position, flexbox, grid), レスポンシブ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-javascript-dom/\" target=\"_blank\" rel=\"nofollow\"\u003eJavaScript and the DOM\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eJS の幅広い基本的な内容と DOM の話\u003c/li\u003e\n\u003cli\u003e触れてる内容: ECMAScript, JS の概要(構文, データタイプ, 組み込み関数, this, Class, タイマーとイベントループ, 非同期処理), イミュータブル, DOM, jQuery\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.isquaredsoftware.com/2020/11/how-web-apps-work-ajax-apis-data/\" target=\"_blank\" rel=\"nofollow\"\u003eAJAX, APIs, and Data Transfer\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eクライアントとサーバー間でデータをやり取りする話\u003c/li\u003e\n\u003cli\u003e触れてる内容: JSON, Ajax, ポーリング, WebSockets, CORS, REST, RPC, GraphQL, ブラウザストレージ, クライアントルーティング\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"tc39proposal-js-module-blocks\"\u003e\u003ca href=\"#tc39proposal-js-module-blocks\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://github.com/tc39/proposal-js-module-blocks\" target=\"_blank\" rel=\"nofollow\"\u003etc39/proposal-js-module-blocks\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: @sosukesuzuki\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eJS Modules Blocks は先日の TC39 ミーティングで \u003ca href=\"https://twitter.com/DasSurma/status/1329059832150831111\" target=\"_blank\" rel=\"nofollow\"\u003eStage 1 になった\u003c/a\u003e プロポーザルです。\u003c/p\u003e\n\u003cp\u003eこのプロポーザルは、ファイルを隔てずにモジュールを定義できるインラインモジュール式(\u003ccode\u003eInlineModuleExpression\u003c/code\u003e)という新しい構文を導入します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e m \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e module \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e foo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"hello\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eこの \u003ccode\u003emodule {}\u003c/code\u003e という部分が新しく導入される構文です。式なので、結果をそのまま値として扱うことが可能です。\u003c/p\u003e\n\u003cp\u003eここで定義された\u003ccode\u003em\u003c/code\u003eは \u003ccode\u003eimport(...)\u003c/code\u003e で import できます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e m \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e module \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e foo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"hello\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e m1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003em\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003em1\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003efoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// hello\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eまだ Stage 1 なのでこれから仕様が大幅に変更される可能性はありますが、実用性もあり面白い提案なので、注目しておくと良さそうです。\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"webassembly-ハンズオン-実際に動かして基礎を学ぶ（翻訳）\"\u003e\u003ca href=\"#webassembly-%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3-%E5%AE%9F%E9%9A%9B%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E5%9F%BA%E7%A4%8E%E3%82%92%E5%AD%A6%E3%81%B6%EF%BC%88%E7%BF%BB%E8%A8%B3%EF%BC%89\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://techracho.bpsinc.jp/hachi8833/2020_11_02/97774\" target=\"_blank\" rel=\"nofollow\"\u003eWebAssembly ハンズオン: 実際に動かして基礎を学ぶ（翻訳）\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: @zaki___yama\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e原文は 8 月頃に投稿された \u003ca href=\"https://evilmartians.com/chronicles/hands-on-webassembly-try-the-basics\" target=\"_blank\" rel=\"nofollow\"\u003eHands-on WebAssembly: Try the basics — Martian Chronicles, Evil Martians’ team blog\u003c/a\u003e という記事。\u003c/p\u003e\n\u003cp\u003eハンズオンと書いてますが手を動かす成分は少なめ。環境構築も Docker で提供されてるものを使うので楽です。（何をインストールしてるのかわかりづらいというのはある）\u003c/p\u003e\n\u003cp\u003e内容としては\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eclang\u003c/code\u003e を使った素朴なやり方で C のソースを wasm にコンパイルする\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ewasm-objdump\u003c/code\u003e で wasm の中身を確認する\u003c/li\u003e\n\u003cli\u003eBynarien (\u003ccode\u003ewasm-opt\u003c/code\u003e) で wasm のバイナリサイズを圧縮する\u003c/li\u003e\n\u003cli\u003eWebAssembly Binary toolkit (wabt) で wasm を wat に変換し、中身を確認する\u003c/li\u003e\n\u003cli\u003eEmscripten でコンパイルしてみる\u003c/li\u003e\n\u003cli\u003e同じことを Rust でやってみる（ライブラリを使ったやり方）\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eという感じで、C メインで Rust はおまけ程度。\u003c/p\u003e\n\u003cp\u003e大部分は C で wasm 書く予定がなければ必要ない情報かなーと思いましたが、個人的には\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e「コンパイラの即席入門(Compilers 101)」で説明されてるコンパイラの概要\n（コンパイラはソースコードをパースして一旦内部表現(IR)に変換する。WebAssembly はどんなブラウザでも理解できる内部表現という位置づけ）\u003c/li\u003e\n\u003cli\u003e「ドラゴンのはらわた（Dragon guts）」\n\u003cul\u003e\n\u003cli\u003eテキスト形式の \u003ccode\u003e.wat\u003c/code\u003e ファイルの読み方\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eあたりが面白かったです。\u003c/p\u003e\n\u003cp\u003e元の C の関数\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-c\"\u003e\u003ccode class=\"language-c\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"token function\"\u003esign\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e x\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eを wat にすると、\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-wat\"\u003e\u003ccode class=\"language-wat\"\u003e(func (;1;) (type 0) (param i32) (result i32)\n  i32.const 2\n  local.get 0\n  i32.const 4\n  i32.rem_s\n  i32.sub\n  local.get 0\n  i32.const 2\n  i32.rem_s\n  i32.mul)\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eとなり、これは\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e整数値 \u003ccode\u003e2\u003c/code\u003e をスタックに push する（\u003ccode\u003ei32.const 2\u003c/code\u003e）\u003c/li\u003e\n\u003cli\u003e関数の最初のパラメーターをスタックに push（\u003ccode\u003elocal.get 0\u003c/code\u003e）\u003c/li\u003e\n\u003cli\u003e整数値 \u003ccode\u003e4\u003c/code\u003e をスタックに push（\u003ccode\u003ei32.const 4\u003c/code\u003e）\u003c/li\u003e\n\u003cli\u003eスタックから 2 つの値を削除して 1 番目の値を 2 番目の値で割った余りをスタックに push する（\u003ccode\u003ei32.rem_s\u003c/code\u003e）\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eが \u003ccode\u003ex % 4\u003c/code\u003e に相当します。\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"dropping-support-for-ie11-is-progressive-enhancement-·-the-ethically-trained-programmer\"\u003e\u003ca href=\"#dropping-support-for-ie11-is-progressive-enhancement-%C2%B7-the-ethically-trained-programmer\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://blog.carlmjohnson.net/post/2020/time-to-kill-ie11/\" target=\"_blank\" rel=\"nofollow\"\u003eDropping Support For IE11 Is Progressive Enhancement · The Ethically-Trained Programmer\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: @pirosikick\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIE11 をサポートする労力を JavaScript を無効にしているユーザーのために使ったほうがいいんじゃないかという話。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIE11 は減少傾向だが、JS 無し環境は無くならない\n\u003cul\u003e\n\u003cli\u003eJS をダウンロードしている間はみんな JS 無し環境\u003c/li\u003e\n\u003cli\u003e広告ブロッカーの普及によって、JS 無し・JS が壊れている人は一定数居る\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eQA チームがない場合、問い合わせが無いだけで IE11 で壊れているかも\n\u003cul\u003e\n\u003cli\u003eBabel/Autoprefixer などによるトラスパイルだけでは不完全で、API の polyfill、IE11 特有のバグへの対応など、IE11 対応するなら IE11 で QA する必要がある\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eIE11 サポートする代わりに、script タグの module/nomodule を使って Progressive Enhancement しよう\n\u003cul\u003e\n\u003cli\u003enomodule 側はできる限る JS を少なくするべき。\u003c/li\u003e\n\u003cli\u003e理想は全く無しだが、実際は広告や Analitics だけ JS 使うことになりそう\u003c/li\u003e\n\u003cli\u003eAnalitics に IE11 ユーザーが出続ける限り、ちゃんと動いているはず\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eJS 無しユーザーのために特別な実装するほうが大変じゃない？\n\u003cul\u003e\n\u003cli\u003e基本は、JS 無しユーザー用のクラス(\u003ccode\u003e.has-old-js\u003c/code\u003e)を使って、要素の表示・非表示するだけ\u003c/li\u003e\n\u003cli\u003e最近の JS は十分にモジュール化されているはず\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e筆者の具体例\n\u003cul\u003e\n\u003cli\u003eモーダルが IE11 では出ない、静的なレイアウトへの切り替え、検索機能は Google に送信するフォームへ切り替え\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e※余談：ブログが「The Ethically-Trained Programmer（倫理的に訓練されたプログラマ）」で favicon が「倫」で笑った\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"use-css-variables-instead-of-react-context--epic-react-by-kent-c-dodds\"\u003e\u003ca href=\"#use-css-variables-instead-of-react-context--epic-react-by-kent-c-dodds\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://epicreact.dev/css-variables/\" target=\"_blank\" rel=\"nofollow\"\u003eUse CSS Variables instead of React Context | Epic React by Kent C. Dodds\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: @pirosikick\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCSS in JS の React Context を使ったテーマ機能（例：\u003ca href=\"https://styled-components.com/docs/advanced#theming\" target=\"_blank\" rel=\"nofollow\"\u003estyled-components の ThemeProvider\u003c/a\u003e）より、CSS Variables を使おうという話。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e開発者体験的には違いはない（個人的には CSS Variables のほうがシンプルで好き）\u003c/li\u003e\n\u003cli\u003eテーマ切替時に再描画するコンポーネント数が React Context のほうが多い\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"building-a-type-checked-url-router-from-scratch\"\u003e\u003ca href=\"#building-a-type-checked-url-router-from-scratch\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"https://ja.nsommer.dk/articles/type-checked-url-router.html\" target=\"_blank\" rel=\"nofollow\"\u003eBuilding a type checked url router from scratch\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e共有者: @shisama_\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSPA のルーティングに設定する URL の型を TypeScript 4.1 で新しく追加された Template Literal Types を使って検査する方法の紹介です。\u003c/p\u003e\n\u003cp\u003eTemplate Literal Types については\u003ca href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-1/#template-literal-types\" target=\"_blank\" rel=\"nofollow\"\u003eAnnouncing TypeScript 4.1\u003c/a\u003eの記事で紹介されています。\u003c/p\u003e\n\u003cp\u003e記事中の型宣言から一部抜き出すと次のように Template Literal で文字列から infer で値を抜き出すことが出来ます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eTemplateVariables\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token constant\"\u003eT\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token constant\"\u003eT\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003einfer Start\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/:\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003einfer Variable\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e TemplateVariables\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eStart\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e Variable\n  \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enever\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eparam\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e TemplateVariables\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/api/users/:id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// param = \"id\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eこの記事の最終的な目的はコンポーネントに紐付けたパスのパラメータとコンポーネントの Props の型が同じになるようにしたいということです。\u003c/p\u003e\n\u003cp\u003e記事中から一部抜粋した例をあげます。\n以下のようなコンポーネントがあったとき、\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-jsx\"\u003e\u003ccode class=\"language-jsx\"\u003etype \u003cspan class=\"token maybe-class-name\"\u003eMyDogProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e string\n  breed\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e string\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eMyDog\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e name\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e breed \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eMyDogProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token parameter\"\u003estring\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e\n  \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e\u0026#x3C;p\u003eMy dog's name is \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ename\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e and it's a \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ebreed\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\u0026#x3C;/p\u003e\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e   \u0026#x3C;p\u003e\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token function\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eLink\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e route\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e routes\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ehome\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e children\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Back to home\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\u0026#x3C;/p\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e以下のようなルーティング定義をしておきます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e routes \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  home\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eHome\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  dog\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eMyDog\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"my-dog/:name/:breed\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  search\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eSearch\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"search/:query\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e注目してほしいのが、\u003ccode\u003emy-dog/:name/:breed\u003c/code\u003eの\u003ccode\u003ename\u003c/code\u003eと\u003ccode\u003ebreed\u003c/code\u003eです。これえは MyDogProps のキーと同じです。なので、たとえば以下のように MyDogProps のキー名が違う場合エラーになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyDogProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  breed_name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e routes \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  dog\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eMyDog\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"my-dog/:name/:breed\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// breed というプロパティはないためエラー\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eまた、Props には定義されているのにパスには存在しない場合もエラーになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyDogProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  breed\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  age\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e routes \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  dog\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eMyDog\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"my-dog/:name/:breed\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// age がないためエラー\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e逆に Props にないパラメータをパスに含めてもエラーになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyDogProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  breed\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e routes \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  dog\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eroute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eMyDog\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"my-dog/:name/:breed/:age\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Propsにageはないためエラー\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eこのようにコンポーネントが期待するパラメータが正しく渡ってくることを事前にチェックすることができます。\u003c/p\u003e\n\u003chr\u003e\n"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2020-11"},"buildId":"NpWyftPghPL3KcdiNy9a1","runtimeConfig":{"basePath":""},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>